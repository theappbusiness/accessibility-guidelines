This document is in beta. Help us by [reporting issues via Github](https://github.com/theappbusiness/accessibility-guidelines) or [email](mailto:jeanfrancois@theappbusiness.com)

[Back to the overview page](./../index.html)

# Error identification

On this page:
* [Summary](#summary)
* [Requirements](#requirements)
* [Guidance for Design](#guidance-for-design)
* [Guidance for iOS](#guidance-for-ios)
* [Guidance for Android](#guidance-for-android)
* [Guidance for Flutter](#guidance-for-flutter)
* [Guidance for Web](#guidance-for-web)
* [More info](#more-info)

---

## Summary

**When someone makes an error while filling in a form, describe the error with text and clearly identify where the error is.**

When a form validation error occurs, the user is informed of where the error is, and what caused it, using text.

---

## Requirements

*   Each form validation error is described with text, and the form input that is in error is in error is clearly identified;
*   The error messages clearly and accurately explain the errors that have occurred;
*   Each form validation error is associated with the input field it relates to.

### Common mistakes

*   An error is only indicated by an icon near to the field;
*   An error is described with text, but it is not associated in code with the field it relates to.

### Why?

This ensures that the form validation error is available to people who cannot see, distinguish colours, or understand icons and other visual cues.

Clear error messages help everyone to input and interact with content correctly. It is important to provide inclusive error messages that users of assistive technology can perceive. Keep in mind that not everyone sees visual cues, such as colour or icons. And people with cognitive impairments may have difficulty in understanding how to correct errors.

### Official wording in the Web Content Accessibility Guidelines

> [**3.3.1 Error Identification:**](https://www.w3.org/TR/UNDERSTANDING-WCAG20/content-structure-separation-programmatic.html) If an [input error](https://www.w3.org/TR/UNDERSTANDING-WCAG20/minimize-error-identified.html#input-errordef) is automatically detected, the item that is in error is identified and the error is described to the user with text. (Level A)

See the [W3C's detailed explanation of this guideline](https://www.w3.org/TR/UNDERSTANDING-WCAG20/content-structure-separation-programmatic.html) with techniques and examples.

---

## Guidance for Design

For example, when a form is submitted:
1. a list of all fields needing correction could be added in above the form;

2. that list could be announced to screen reader users, either by:
   * moving the keyboard focus to that error summary box,
   * or by making that error summary box a 'live' region that announces when its content changes;

3. form inputs that are in error are identified both visually (using than colour alone) and in code (using `aria-invalid` for example).

This section needs more content. [Contribute via Github](https://github.com/theappbusiness/accessibility-guidelines/) or [email](mailto:jeanfrancois@theappbusiness.com).

### More guidance for design

* [Error Message component and guidance in the GDS Design System](https://design-system.service.gov.uk/components/error-message/)
* [Error Summary component and guidance in the GDS Design System](https://design-system.service.gov.uk/components/error-summary/)

---

## Guidance for iOS

This section needs more content. [Contribute via Github](https://github.com/theappbusiness/accessibility-guidelines/) or [email](mailto:kane.cheshire@theappbusiness.com).

---

## Guidance for Android

You can use a **live region** in order to send a new `AccessibilityEvent` to the current enabled Accessibility Service on view updates. This means that any service like TalkBack will pay attention to any changes in that **View** and will automatically announce them.

To do so, you can easily mark any View as a live region in your XML file by adding the `accessibilityLiveRegion` attribute:

```xml
<View
  ...
  android:accessibilityLiveRegion="polite"
  .../>
```

Options for this attribute are the following:
- `none`: Accessibility services should not announce changes to this view.
- `polite`: Accessibility services should announce changes to this view.
- `assertive`: Accessibility services should interrupt ongoing speech to immediately announce changes to this view.

> Carefully consider when to use live regions, as announcements for frequently changing views can be disruptive and annoying. Live regions can easily be overused, especially when you're just starting out with accessibility. ***Live regions are the exception, not the rule.***


---

## Guidance for Flutter

This section needs more content. [Contribute via Github](https://github.com/theappbusiness/accessibility-guidelines/) or [email](mailto:jacek.kulinski@theappbusiness.com).

---

## Guidance for Web

### Associating an error with a text input field using `aria-describedby`

```html
<label for="national-insurance-number">
  National Insurance number
</label>

<span id="national-insurance-number-hint">
  It’s on your National Insurance card, benefit letter, payslip or P60. For example, ‘QQ 12 34 56 C’.
</span>

<input id="national-insurance-number" name="national-insurance-number" type="text"
aria-describedby="national-insurance-number-hint national-insurance-number-error">

<span id="national-insurance-number-error">
  <span class="visually-hidden">Error:</span> Enter a National Insurance number in the correct format
</span>
```

#### More guidance for Web

* [Error Message component and guidance in the GDS Design System](https://design-system.service.gov.uk/components/error-message/)
* [Error Summary component and guidance in the GDS Design System](https://design-system.service.gov.uk/components/error-summary/)
* [Validating user input tutorial](https://www.w3.org/WAI/tutorials/forms/validation/) by the W3C's Web Accessibility Initiative.
* [User Notifications in Forms tutorial](https://www.w3.org/WAI/tutorials/forms/notifications/)  by the W3C's Web Accessibility Initiative.
* [Basic form hints article](https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/forms/Basic_form_hints) on MDN.
* [Using aria-describedby to provide form hints](https://www.paciellogroup.com/blog/2014/12/using-aria-describedby-to-provide-helpful-form-hints/) by Léonie Watson and The Paciello Group.
* [Practical Support: aria-label, aria-labelledby and aria-describedby](https://www.w3.org/TR/using-aria/#practical-support-aria-label-aria-labelledby-and-aria-describedby) section in the W3C's [Using ARIA](https://www.w3.org/TR/using-aria/) document.

---

## More info

### Sources

* [W3C Web Content Accessibility Guidelines 2.1](https://www.w3.org/TR/WCAG21/)
* [Government Digital Service WCAG 2.1 Primer](https://alphagov.github.io/wcag-primer/)
* [Barclays' Accessibility Design Standards](https://home.barclays/who-we-are/our-suppliers/our-requirements-of-external-suppliers/)
* [The BBC's Mobile Accessibility Guidelines](https://www.bbc.co.uk/guidelines/futuremedia/accessibility/mobile/summary)

### Contribute

This document is in beta. Help us by [reporting issues via Github](https://github.com/theappbusiness/accessibility-guidelines) or [email](mailto:jeanfrancois@theappbusiness.com)
